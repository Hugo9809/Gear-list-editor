@import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;

  --v2-brand-primary: 0 21 137;
  --v2-brand-primary-hover: 0 16 106;
  --v2-brand-primary-active: 0 10 75;
  --v2-brand-primary-foreground: 255 255 255;
  --v2-brand-secondary: 255 105 180;
  --v2-brand-secondary-hover: 242 85 168;
  --v2-brand-secondary-active: 209 48 138;
  --v2-brand-secondary-foreground: 24 24 27;
  --v2-heading-color: var(--v2-brand-primary);

  --v2-surface-app-bg: 245 247 250;
  --v2-surface-base: 255 255 255;
  --v2-surface-elevated: 255 255 255;
  --v2-surface-muted: 240 240 240;
  --v2-surface-sunken: 232 232 232;
  --v2-surface-input: 255 255 255;
  --v2-surface-inverse: 26 26 46;

  --v2-text-primary: 26 26 26;
  --v2-text-secondary: 102 102 102;
  --v2-text-muted: 153 153 153;
  --v2-text-inverse: 255 255 255;
  --v2-text-link: 0 21 137;

  --v2-border-default: 221 221 221;
  --v2-border-strong: 170 170 170;
  --v2-border-muted: 238 238 238;
  --v2-border-hover: 156 163 175;
  --v2-border-focus: var(--v2-brand-primary);

  --v2-header-color: var(--v2-brand-primary);

  --v2-status-success: 40 167 69;
  --v2-status-success-bg: 212 237 218;
  --v2-status-warning: 255 193 7;
  --v2-status-warning-bg: 255 243 205;
  --v2-status-error: 220 53 69;
  --v2-status-error-bg: 248 215 218;
  --v2-status-info: 23 162 184;
  --v2-status-info-bg: 209 236 241;

  --v2-project-blue: 33 150 243;
  --v2-project-green: 76 175 80;
  --v2-project-orange: 255 152 0;
  --v2-project-purple: 156 39 176;
  --v2-project-red: 244 67 54;
  --v2-project-pink: 233 30 99;
  --v2-project-teal: 0 150 136;
  --v2-project-indigo: 63 81 181;

  --v2-space-xs: 4px;
  --v2-space-sm: 8px;
  --v2-space-md: 16px;
  --v2-space-lg: 24px;
  --v2-space-xl: 32px;
  --v2-space-2xl: 48px;
  --v2-space-3xl: 64px;

  --v2-font-family: 'Ubuntu', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  --v2-font-size-xs: 0.75rem;
  --v2-font-size-sm: 0.875rem;
  --v2-font-size-base: 1rem;
  --v2-font-size-lg: 1.125rem;
  --v2-font-size-xl: 1.5rem;
  --v2-font-weight-normal: 400;
  --v2-font-weight-medium: 500;
  --v2-font-weight-semibold: 600;
  --v2-font-weight-bold: 700;
  --v2-line-height-tight: 1.25;
  --v2-line-height-normal: 1.5;
  --v2-line-height-relaxed: 1.75;

  --v2-radius-sm: 4px;
  --v2-radius-md: 8px;
  --v2-radius-lg: 12px;
  --v2-radius-xl: 16px;
  --v2-radius-full: 9999px;

  --v2-shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.03);
  --v2-shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
  --v2-shadow-md: 0 4px 8px rgba(0, 0, 0, 0.08);
  --v2-shadow-lg: 0 8px 12px rgba(0, 0, 0, 0.1);
  --v2-shadow-xl: 0 12px 18px rgba(0, 0, 0, 0.12);
  --v2-shadow-tile: 0 4px 10px rgba(0, 0, 0, 0.06);
  --v2-shadow-popover: 0 8px 14px rgba(0, 0, 0, 0.08);

  --v2-transition-fast: 150ms ease;
  --v2-transition-normal: 250ms ease;
  --v2-transition-slow: 350ms ease;

  --v2-sidebar-width: 260px;
  --v2-sidebar-collapsed-width: 64px;
}

:root[data-theme='dark'] {
  color-scheme: dark;

  /* Neutral/Zinc Mono Palette (No Blue Tint) */
  --v2-surface-app-bg: 0 0 0;
  /* Pure Black */
  --v2-surface-base: 24 24 27;
  /* Zinc-900 */
  --v2-surface-elevated: 39 39 42;
  /* Zinc-800 */
  --v2-surface-muted: 63 63 70;
  /* Zinc-700 */
  --v2-surface-sunken: 12 12 14;
  /* Near Black */
  --v2-surface-input: 9 9 11;
  /* Zinc-950 */
  --v2-surface-inverse: 255 255 255;
  /* White */

  /* Dark Blue Brand Colors (Requested Accent) */
  --v2-brand-primary: 0 21 137;
  /* Deep Blue */
  --v2-brand-primary-hover: 0 16 106;
  /* Deep Blue Hover */
  --v2-brand-primary-active: 0 10 75;
  /* Deep Blue Active */
  --v2-brand-primary-foreground: 255 255 255;
  /* White text on Dark Blue button */

  /* Text Colors (High Contrast) */
  --v2-text-primary: 255 255 255;
  /* Pure White */
  --v2-text-secondary: 161 161 170;
  /* Zinc-400 */
  --v2-text-muted: 113 113 122;
  /* Zinc-500 */
  --v2-text-inverse: 9 9 11;
  --v2-text-link: 255 255 255;
  /* White (No Electric Blue) */
  --v2-heading-color: 255 255 255;
  --v2-header-color: 255 255 255;

  /* Border Colors (Neutral) */
  --v2-border-default: 39 39 42;
  /* Zinc-800 */
  --v2-border-strong: 82 82 91;
  /* Zinc-600 */
  --v2-border-muted: 24 24 27;
  --v2-border-focus: 255 255 255;
  /* White Focus Ring */

  /* Shadows */
  --v2-shadow-tile: 0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
  --v2-shadow-popover: 0 10px 15px -3px rgba(0, 0, 0, 0.7), 0 4px 6px -2px rgba(0, 0, 0, 0.5);

  /* Vibrant Project Colors for Dark Mode */
  --v2-project-blue: 96 165 250;
  --v2-project-green: 74 222 128;
  --v2-project-orange: 251 146 60;
  --v2-project-purple: 192 132 252;
  --v2-project-red: 248 113 113;
  --v2-project-pink: 244 114 182;
  --v2-project-teal: 45 212 191;
  --v2-project-indigo: 129 140 248;
}

:root[data-theme='pink'] {
  color-scheme: light;

  --v2-brand-primary: 255 105 180;
  --v2-brand-primary-hover: 242 85 168;
  --v2-brand-primary-active: 209 48 138;
  --v2-brand-primary-foreground: 255 255 255;

  --v2-text-inverse: 255 255 255;
  --v2-text-link: 255 105 180;
  --v2-heading-color: var(--v2-brand-primary);
  --v2-border-focus: 255 105 180;
  --v2-header-color: var(--v2-brand-primary);
}

:root[data-theme='pink'] .v2-sidebar-logo {
  filter: sepia(82.08%) saturate(127.06%) hue-rotate(74.07deg) brightness(464.59%) contrast(134.34%);
}

body {
  font-family:
    'Inter',
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    sans-serif;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  color: rgb(var(--v2-heading-color));
  text-shadow: none;
}

@layer components {
  .ui-tile {
    @apply rounded-2xl border border-surface-sunken;
    box-shadow: var(--v2-shadow-tile);
  }

  .ui-panel {
    @apply rounded-xl border border-surface-sunken;
    box-shadow: var(--v2-shadow-tile);
  }

  .ui-input {
    @apply w-full rounded-lg border border-surface-sunken bg-surface-input px-4 py-2 text-sm text-text-primary placeholder:text-text-muted transition focus:border-brand focus:outline-none;
  }

  .ui-input-lg {
    @apply text-base;
  }

  .ui-input-sm {
    @apply text-xs;
  }

  .ui-textarea {
    @apply w-full rounded-lg border border-surface-sunken bg-surface-input px-4 py-3 text-sm text-text-primary placeholder:text-text-muted transition focus:border-brand focus:outline-none;
  }

  .ui-select {
    @apply w-full rounded-lg border border-surface-sunken bg-surface-input px-3 py-2 text-sm text-text-primary transition focus:border-brand focus:outline-none;
  }

  .ui-button {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-semibold transition;
  }

  .ui-button-primary {
    @apply bg-brand text-brand-foreground hover:bg-brand-hover;
  }

  .ui-button-outline {
    @apply border border-surface-sunken text-text-primary hover:border-brand hover:text-brand;
  }

  .ui-button-muted {
    @apply border border-surface-sunken text-text-secondary hover:border-brand hover:text-brand;
  }

  .ui-button-danger {
    @apply border border-surface-sunken text-text-secondary hover:border-status-error hover:text-status-error;
  }

  .ui-dropdown {
    @apply rounded-lg border border-surface-sunken bg-surface-input text-left text-sm text-text-primary;
    box-shadow: var(--v2-shadow-popover);
  }

  .ui-sidebar {
    @apply relative isolate flex flex-col gap-6 overflow-hidden rounded-[28px] border border-surface-sunken bg-surface-base/90 p-6 backdrop-blur;
    box-shadow: var(--v2-shadow-xl);
  }

  .ui-sidebar::before {
    content: '';
    position: absolute;
    inset: -40% auto auto -25%;
    width: 260px;
    height: 260px;
    background: radial-gradient(circle, rgb(var(--v2-brand-primary) / 0.18), transparent 70%);
    opacity: 0.9;
    pointer-events: none;
  }

  .ui-sidebar::after {
    content: '';
    position: absolute;
    inset: auto -35% -45% auto;
    width: 280px;
    height: 280px;
    background: radial-gradient(circle, rgb(var(--v2-brand-secondary) / 0.14), transparent 70%);
    opacity: 0.7;
    pointer-events: none;
  }

  .ui-sidebar>* {
    position: relative;
    z-index: 1;
  }

  .ui-sidebar-logo {
    @apply flex h-12 w-12 items-center justify-center rounded-2xl border border-surface-sunken text-sm font-semibold text-text-primary;
    background: rgb(var(--v2-brand-secondary) / 1);
    box-shadow: var(--v2-shadow-sm);
    letter-spacing: 0.12em;
  }

  .ui-sidebar-eyebrow {
    @apply text-[0.62rem] font-semibold uppercase tracking-[0.32em] text-text-muted;
  }

  .ui-sidebar-intro {
    @apply rounded-2xl border border-surface-sunken/70 bg-surface-elevated/80 px-4 py-3;
    box-shadow: var(--v2-shadow-sm);
  }

  .ui-sidebar-intro-title {
    @apply text-[0.65rem] font-semibold uppercase tracking-[0.28em] text-text-muted;
  }

  .ui-sidebar-intro-description {
    @apply mt-2 text-sm text-text-secondary;
  }

  .ui-sidebar-section {
    @apply rounded-2xl border border-surface-sunken/70 bg-surface-elevated/70 p-4;
    box-shadow: var(--v2-shadow-xs);
  }

  .ui-sidebar-tab {
    @apply relative flex w-full items-center justify-between rounded-2xl border border-transparent bg-surface-base/80 px-4 py-3 text-left text-sm font-semibold text-text-secondary transition;
    box-shadow: var(--v2-shadow-xs);
  }

  .ui-sidebar-tab:hover {
    @apply border-brand/30 bg-brand/5 text-text-primary;
    box-shadow: var(--v2-shadow-md);
  }

  .ui-sidebar-tab-active {
    @apply border-brand/40 bg-brand text-brand-foreground;
    box-shadow: var(--v2-shadow-md);
  }

  .ui-sidebar-tab-content {
    @apply flex items-center gap-3;
  }

  .ui-sidebar-tab-label {
    @apply text-sm font-semibold;
  }

  .ui-sidebar-tab-dot {
    @apply h-2.5 w-2.5 rounded-full bg-text-muted/70 transition;
    box-shadow: 0 0 0 4px rgb(var(--v2-text-muted) / 0.12);
  }

  .ui-sidebar-tab-arrow {
    @apply h-2 w-2 rotate-45 border-r-2 border-t-2 border-current opacity-40 transition;
  }

  .ui-sidebar-tab:hover .ui-sidebar-tab-arrow {
    @apply opacity-70;
  }

  .ui-sidebar-tab-active .ui-sidebar-tab-dot {
    background: rgb(var(--v2-brand-primary-foreground) / 1);
    box-shadow: 0 0 0 4px rgb(var(--v2-brand-primary-foreground) / 0.2);
  }

  .ui-sidebar-tab-active .ui-sidebar-tab-arrow {
    @apply opacity-80;
  }

  .ui-sidebar-status {
    @apply rounded-2xl border px-4 py-3 text-sm;
    box-shadow: var(--v2-shadow-xs);
  }

  .v2-sidebar {
    position: relative;
    isolate: auto;
    display: flex;
    flex-direction: column;
    background-color: rgb(var(--v2-surface-base) / 1);
    color: rgb(var(--v2-text-primary) / 1);
    width: 100%;
    overflow: hidden;
    border-right: 1px solid rgb(var(--v2-border-default) / 1);
    height: 100%;
    font-family: var(--v2-font-family);
    border-radius: 16px;
    /* Subtle glassy background that adapts with theme */
    background: rgb(var(--v2-surface-base) / 0.96);
    backdrop-filter: saturate(1.2) blur(6px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
  }

  .v2-sidebar::before {
    content: '';
    position: absolute;
    inset: -20% auto auto -20%;
    width: 200px;
    height: 200px;
    background: radial-gradient(circle, rgb(var(--v2-brand-primary) / 0.08), transparent 70%);
    opacity: 0.8;
    pointer-events: none;
    z-index: 0;
  }

  .v2-sidebar::after {
    content: '';
    position: absolute;
    inset: auto -20% -20% auto;
    width: 220px;
    height: 220px;
    background: radial-gradient(circle, rgb(var(--v2-brand-secondary) / 0.06), transparent 70%);
    opacity: 0.6;
    pointer-events: none;
    z-index: 0;
  }

  .v2-sidebar>* {
    position: relative;
    z-index: 1;
  }

  /* Theme tweaks for dark mode to improve contrast and depth on the new sidebar design */
  :root[data-theme='dark'] .ui-sidebar::before {
    background: radial-gradient(circle, rgb(var(--v2-brand-primary) / 0.12), transparent 70%);
  }

  :root[data-theme='dark'] .ui-sidebar::after {
    background: radial-gradient(circle, rgb(var(--v2-brand-secondary) / 0.12), transparent 70%);
  }

  :root[data-theme='dark'] .v2-sidebar {
    background: rgb(var(--v2-surface-base) / 0.92);
  }

  .v2-sidebar-header {
    padding: var(--v2-space-lg) var(--v2-space-md);
    display: flex;
    align-items: center;
    gap: var(--v2-space-md);
    border-bottom: 1px solid rgb(var(--v2-border-default) / 0.5);
  }

  .v2-sidebar-logo {
    width: 56px;
    height: 56px;
    max-width: 100%;
    object-fit: contain;
    border-radius: var(--v2-radius-md);
  }

  .v2-sidebar-title {
    font-size: clamp(20px, 6vw, 26px);
    font-weight: var(--v2-font-weight-semibold);
    color: rgb(var(--v2-header-color) / 1);
    margin: 0;
    line-height: 1;
    white-space: normal;
    overflow: hidden;
    flex: 1;
  }

  .v2-sidebar-header-text {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .v2-sidebar-subtitle {
    font-size: var(--v2-font-size-xs);
    color: rgb(var(--v2-text-muted) / 1);
  }

  .v2-sidebar-nav {
    flex: 1;
    overflow-y: auto;
    padding: var(--v2-space-sm) var(--v2-space-md);
    display: flex;
    flex-direction: column;
    gap: var(--v2-space-sm);
  }

  .v2-sidebar-section {
    margin-bottom: var(--v2-space-md);
  }

  .v2-sidebar-section-title {
    font-size: 11px;
    font-weight: var(--v2-font-weight-bold);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: rgb(var(--v2-brand-primary) / 0.7);
    padding: var(--v2-space-sm) var(--v2-space-md);
    margin-bottom: var(--v2-space-xs);
  }

  .v2-sidebar-link {
    display: flex;
    align-items: center;
    gap: var(--v2-space-md);
    padding: var(--v2-space-sm) var(--v2-space-md);
    border-radius: var(--v2-radius-md);
    color: rgb(var(--v2-brand-primary) / 0.65);
    text-decoration: none;
    transition: background-color var(--v2-transition-fast), color var(--v2-transition-fast);
    font-size: var(--v2-font-size-base);
    font-weight: var(--v2-font-weight-medium);
  }

  .v2-sidebar-link:hover {
    background-color: rgb(var(--v2-brand-primary) / 0.05);
    color: rgb(var(--v2-brand-primary) / 1);
  }

  .v2-sidebar-link.active {
    background-color: rgb(var(--v2-brand-primary) / 1);
    color: rgb(var(--v2-text-inverse) / 1);
    box-shadow: 0 4px 12px rgb(var(--v2-brand-primary) / 0.25);
  }

  .v2-sidebar-link.active:hover {
    background-color: rgb(var(--v2-brand-primary-hover) / 1);
    color: rgb(var(--v2-text-inverse) / 1);
  }

  .v2-sidebar-link-icon {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
    opacity: 1;
    color: currentColor;
    transition: transform 0.2s ease, opacity 0.2s ease, color 0.2s ease;
  }

  .v2-sidebar-link:hover .v2-sidebar-link-icon {
    transform: scale(1.1);
  }

  .v2-sidebar-link.active .v2-sidebar-link-icon {
    opacity: 1;
    color: currentColor;
    transform: scale(1.05);
  }

  .v2-sidebar-link-text {
    flex: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .v2-sidebar-link .icon-text {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    min-width: 20px;
    min-height: 20px;
    border: 1.5px solid currentColor;
    border-radius: 50%;
    font-size: 13px;
    font-weight: 600;
    line-height: 1;
    color: currentColor;
  }

  .v2-sidebar-controls-container {
    padding: var(--v2-space-sm) var(--v2-space-md);
    border-top: 1px solid rgb(var(--v2-border-default) / 1);
    display: flex;
    flex-direction: column;
    gap: var(--v2-space-sm);
  }

  .v2-controls-row-1 {
    display: flex;
    align-items: center;
    gap: 6px;
    width: 100%;
  }

  .v2-lang-select-wrapper {
    flex: 1;
    min-width: 120px;
    position: relative;
    display: flex;
    align-items: center;
  }

  .v2-lang-select {
    width: 100%;
    appearance: none;
    -webkit-appearance: none;
    background-color: rgb(var(--v2-surface-base) / 1) !important;
    border: 1px solid rgb(var(--v2-border-default) / 1) !important;
    border-radius: var(--v2-radius-md) !important;
    padding: 0 22px 0 10px !important;
    font-size: var(--v2-font-size-base) !important;
    font-weight: var(--v2-font-weight-medium) !important;
    color: rgb(var(--v2-header-color) / 1) !important;
    cursor: pointer;
    font-family: inherit;
    line-height: 32px !important;
    height: 32px !important;
    box-sizing: border-box !important;
    text-overflow: ellipsis;
    white-space: nowrap;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E") !important;
    background-repeat: no-repeat !important;
    background-position: right 8px center !important;
    background-size: 10px !important;
  }

  .v2-lang-select:focus {
    outline: none;
    border-color: rgb(var(--v2-border-focus) / 1) !important;
    box-shadow: 0 0 0 2px color-mix(in srgb, rgb(var(--v2-border-focus) / 1) 10%, transparent);
  }

  .v2-theme-controls {
    display: flex;
    gap: var(--v2-space-sm);
  }

  .v2-theme-toggle {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid rgb(var(--v2-border-default) / 1) !important;
    background: transparent;
    cursor: pointer;
    padding: 0;
    color: rgb(var(--v2-text-secondary) / 1);
    transition: all var(--v2-transition-fast);
    flex-shrink: 0;
  }

  .v2-theme-toggle:hover {
    background-color: rgb(var(--v2-surface-muted) / 1);
    color: rgb(var(--v2-text-primary) / 1);
    border-color: rgb(var(--v2-border-strong) / 1) !important;
  }

  .v2-theme-toggle.active {
    background-color: rgb(var(--v2-brand-primary) / 1);
    color: rgb(var(--v2-text-inverse) / 1);
    border-color: rgb(var(--v2-brand-primary) / 1) !important;
    box-shadow: var(--v2-shadow-sm);
  }

  .v2-theme-toggle.active:hover {
    background-color: rgb(var(--v2-brand-primary-hover) / 1);
    border-color: rgb(var(--v2-brand-primary-hover) / 1) !important;
  }

  .v2-theme-toggle svg {
    width: 16px;
    height: 16px;
  }

  .v2-sidebar-footer {
    padding: var(--v2-space-md);
    border-top: 1px solid rgb(var(--v2-border-default) / 1);
    margin-top: auto;
    display: flex;
    flex-direction: column;
    gap: var(--v2-space-sm);
  }

  .v2-sidebar-status {
    font-size: 0.72rem;
    color: rgb(var(--v2-text-muted) / 1);
    line-height: 1.4;
    margin: 0;
  }

  .v2-sidebar-status.is-active {
    color: rgb(var(--v2-brand-primary) / 1);
  }

  @media (max-width: 768px) {
    .v2-sidebar-header {
      padding: var(--v2-space-md);
      gap: var(--v2-space-sm);
    }

    .v2-sidebar-logo {
      width: 44px;
      height: 44px;
    }

    .v2-sidebar-title {
      font-size: clamp(18px, 5vw, 22px);
    }

    .v2-sidebar-controls-container {
      padding: var(--v2-space-xs) var(--v2-space-md);
    }

    .v2-controls-row-1 {
      flex-wrap: wrap;
      gap: var(--v2-space-xs);
    }

    .v2-lang-select-wrapper {
      flex: 1 1 100%;
      min-width: 0;
    }

    .v2-sidebar-nav {
      padding: var(--v2-space-xs) var(--v2-space-sm);
    }

    .v2-sidebar-link {
      padding: var(--v2-space-sm) var(--v2-space-md);
      font-size: var(--v2-font-size-base);
    }

    .v2-sidebar-section-title {
      padding: var(--v2-space-xs) var(--v2-space-md);
    }

    .v2-sidebar-footer {
      padding: var(--v2-space-sm) var(--v2-space-md);
    }
  }

  /* Mobile Sidebar Drawer State Classes */
  @media (max-width: 1023px) {
    .v2-sidebar {
      position: fixed !important;
      top: 0;
      left: 0;
      bottom: 0;
      width: 280px !important;
      z-index: 100;
      border-radius: 0;
      border-right: 1px solid rgb(var(--v2-border-default) / 1);
      box-shadow: var(--v2-shadow-xl);
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .v2-sidebar.mobile-drawer-closed {
      transform: translateX(-100%);
      pointer-events: none;
      visibility: hidden;
    }

    .v2-sidebar.mobile-drawer-open {
      transform: translateX(0);
      pointer-events: auto;
      visibility: visible;
    }
  }
}

@layer components {
  .project-dashboard {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: var(--v2-space-xl);
    font-family: 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', 'Avenir Next', 'Segoe UI', sans-serif;
  }

  .dashboard-card {
    position: relative;
    border-radius: 24px;
    border: 1px solid rgb(var(--v2-border-default) / 0.7);
    background: rgb(var(--v2-surface-base) / 1);
    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.08);
    animation: pd-fade 0.6s ease both;
  }

  .dashboard-card--hero {
    background: rgb(var(--v2-surface-base) / 1);
  }

  .dashboard-hero {
    display: flex;
    flex-direction: column;
    gap: var(--v2-space-sm);
  }

  @media (min-width: 1024px) {
    .dashboard-hero {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      gap: var(--v2-space-xl);
    }
  }

  .dashboard-eyebrow {
    font-size: 0.65rem;
    letter-spacing: 0.32em;
    text-transform: uppercase;
    color: rgb(var(--v2-text-muted) / 1);
    font-weight: var(--v2-font-weight-semibold);
  }

  .dashboard-title {
    font-size: clamp(1.4rem, 1.1rem + 1.1vw, 2.1rem);
    font-weight: var(--v2-font-weight-semibold);
    letter-spacing: -0.015em;
    color: rgb(var(--v2-text-primary) / 1);
    margin: 0;
  }

  .dashboard-section-title {
    font-size: 1rem;
    font-weight: var(--v2-font-weight-semibold);
    color: rgb(var(--v2-text-primary) / 1);
    margin: 0;
  }

  .dashboard-card-title {
    font-size: 0.95rem;
    font-weight: var(--v2-font-weight-semibold);
    color: rgb(var(--v2-text-primary) / 1);
    margin: 0;
  }

  .dashboard-subtitle {
    font-size: 0.9rem;
    color: rgb(var(--v2-text-secondary) / 1);
    line-height: 1.55;
    margin: 0;
  }

  .dashboard-help {
    margin-top: var(--v2-space-sm);
    font-size: 0.75rem;
    color: rgb(var(--v2-text-muted) / 1);
  }

  .dashboard-label {
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.22em;
    color: rgb(var(--v2-text-muted) / 1);
    font-weight: var(--v2-font-weight-semibold);
  }

  .dashboard-quickactions {
    position: relative;
    border-radius: 20px;
    border: 1px solid rgb(var(--v2-border-muted) / 0.9);
    background: rgb(var(--v2-surface-base) / 1);
    padding: var(--v2-space-md);
    box-shadow: var(--v2-shadow-xs);
  }

  .dashboard-form-grid {
    margin-top: var(--v2-space-sm);
  }

  .dashboard-form-grid label {
    color: rgb(var(--v2-text-secondary) / 1);
    font-size: 0.85rem;
  }

  .dashboard-input,
  .dashboard-select,
  .project-dashboard .ui-input,
  .project-dashboard .ui-select {
    border-radius: 14px;
    border: 1px solid rgb(var(--v2-border-default) / 0.7);
    background: rgb(var(--v2-surface-base) / 1);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.7), 0 8px 18px rgba(15, 23, 42, 0.05);
    transition: border-color var(--v2-transition-normal), box-shadow var(--v2-transition-normal), background-color var(--v2-transition-normal);
  }

  .dashboard-input:focus,
  .dashboard-select:focus,
  .project-dashboard .ui-input:focus,
  .project-dashboard .ui-select:focus {
    border-color: rgb(var(--v2-brand-primary) / 0.7);
    box-shadow: 0 0 0 4px rgb(var(--v2-brand-primary) / 0.12), inset 0 1px 0 rgba(255, 255, 255, 0.7);
    outline: none;
  }

  .dashboard-dropdown {
    border-radius: 16px;
    border: 1px solid rgb(var(--v2-border-default) / 0.7);
    background: rgb(var(--v2-surface-base) / 1);
    box-shadow: 0 18px 30px rgba(0, 0, 0, 0.12);
  }

  .dashboard-button {
    border-radius: 999px;
    letter-spacing: 0.01em;
    box-shadow: 0 8px 18px rgba(15, 23, 42, 0.12);
    transition: transform var(--v2-transition-fast), box-shadow var(--v2-transition-fast), background-color var(--v2-transition-fast), color var(--v2-transition-fast), border-color var(--v2-transition-fast);
  }

  .dashboard-button:hover {
    transform: translateY(-1px);
    box-shadow: 0 12px 22px rgba(15, 23, 42, 0.16);
  }

  .dashboard-button:disabled {
    transform: none;
    box-shadow: none;
  }

  .dashboard-button:focus-visible {
    outline: none;
    box-shadow: 0 0 0 4px rgb(var(--v2-brand-primary) / 0.18);
  }

  .dashboard-button-primary {
    background: rgb(var(--v2-brand-primary) / 1);
    box-shadow: 0 10px 18px rgba(0, 0, 0, 0.16);
  }

  .dashboard-button.ui-button-outline {
    background: rgb(var(--v2-surface-base) / 1);
    border-color: rgb(var(--v2-border-default) / 0.8);
  }

  .dashboard-button-danger {
    background: rgb(var(--v2-status-error-bg) / 1);
    border-color: rgb(var(--v2-status-error) / 0.35);
    color: rgb(var(--v2-status-error) / 0.95);
  }

  .dashboard-button-disabled {
    box-shadow: none;
  }

  .dashboard-list-header {
    display: flex;
    flex-direction: column;
    gap: var(--v2-space-sm);
  }

  @media (min-width: 1024px) {
    .dashboard-list-header {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      gap: var(--v2-space-lg);
    }
  }

  .dashboard-meta-row {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: var(--v2-space-sm);
  }

  .dashboard-pill {
    display: inline-flex;
    align-items: center;
    padding: 6px 12px;
    border-radius: 999px;
    border: 1px solid rgb(var(--v2-border-default) / 0.6);
    background: rgb(var(--v2-surface-base) / 1);
    font-size: 0.72rem;
    font-weight: var(--v2-font-weight-semibold);
    color: rgb(var(--v2-text-primary) / 1);
    letter-spacing: 0.02em;
  }

  .dashboard-pill-muted {
    background: rgb(var(--v2-surface-muted) / 1);
    color: rgb(var(--v2-text-muted) / 1);
    font-weight: var(--v2-font-weight-medium);
  }

  .dashboard-link {
    font-size: 0.75rem;
    font-weight: var(--v2-font-weight-semibold);
    color: rgb(var(--v2-text-link) / 1);
    text-decoration: none;
  }

  .dashboard-link:hover {
    text-decoration: underline;
  }

  .dashboard-project-grid {
    display: grid;
    gap: var(--v2-space-md);
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  }

  .dashboard-project-card {
    --pd-accent: var(--v2-brand-primary);
    position: relative;
    display: flex;
    flex-direction: column;
    gap: var(--v2-space-md);
    padding: var(--v2-space-md);
    border-radius: 20px;
    border: 1px solid rgb(var(--v2-border-default) / 0.6);
    border-top: 3px solid rgb(var(--pd-accent) / 0.55);
    background: rgb(var(--v2-surface-base) / 1);
    box-shadow: 0 10px 22px rgba(0, 0, 0, 0.07);
    transition: transform var(--v2-transition-normal), box-shadow var(--v2-transition-normal), border-color var(--v2-transition-normal);
    animation: pd-card 0.55s ease both;
    animation-delay: calc(var(--pd-index, 0) * 60ms);
  }

  .dashboard-project-card:hover {
    transform: translateY(-3px);
    border-color: rgb(var(--v2-border-strong) / 0.7);
    box-shadow: 0 18px 32px rgba(0, 0, 0, 0.12);
  }

  .dashboard-project-title {
    font-size: 1.05rem;
    font-weight: var(--v2-font-weight-semibold);
    color: rgb(var(--v2-text-primary) / 1);
    margin: 0;
  }

  .dashboard-project-meta {
    font-size: 0.78rem;
    color: rgb(var(--v2-text-secondary) / 1);
    margin: 4px 0 0 0;
  }

  .dashboard-stat-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: var(--v2-space-sm);
  }

  .dashboard-stat {
    border-radius: 14px;
    border: 1px solid rgb(var(--v2-border-muted) / 0.9);
    background: rgb(var(--v2-surface-muted) / 1);
    padding: 8px 12px;
    font-size: 0.78rem;
    font-weight: var(--v2-font-weight-semibold);
    color: rgb(var(--v2-text-primary) / 1);
  }

  .dashboard-actions {
    margin-top: auto;
    display: flex;
    flex-wrap: wrap;
    gap: var(--v2-space-sm);
  }

  .dashboard-empty {
    border-radius: 18px;
    border: 1px dashed rgb(var(--v2-border-default) / 0.7);
    background: rgb(var(--v2-surface-muted) / 1);
    padding: var(--v2-space-lg);
    text-align: center;
    color: rgb(var(--v2-text-muted) / 1);
    font-size: 0.85rem;
  }

  .dashboard-backup-grid {
    display: grid;
    gap: var(--v2-space-md);
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  }

  .dashboard-backup-card {
    display: flex;
    flex-direction: column;
    gap: var(--v2-space-sm);
    padding: var(--v2-space-md);
    border-radius: 18px;
    border: 1px solid rgb(var(--v2-border-default) / 0.6);
    background: rgb(var(--v2-surface-base) / 1);
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.08);
    animation: pd-card 0.55s ease both;
    animation-delay: calc(var(--pd-index, 0) * 60ms);
  }

  :root[data-theme='dark'] .dashboard-card {
    background: rgb(var(--v2-surface-base) / 1);
    border-color: rgb(var(--v2-border-default) / 0.9);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.45);
  }

  :root[data-theme='dark'] .dashboard-project-card {
    background: rgb(var(--v2-surface-base) / 1);
    box-shadow: 0 18px 34px rgba(0, 0, 0, 0.35);
  }

  :root[data-theme='dark'] .dashboard-button {
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.5);
  }
}

@keyframes pd-fade {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pd-card {
  from {
    opacity: 0;
    transform: translateY(12px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@media (prefers-reduced-motion: reduce) {
  .dashboard-card,
  .dashboard-project-card,
  .dashboard-backup-card,
  .dashboard-button {
    animation: none;
    transition: none;
  }
}

@layer utilities {
  .ui-heading {
    color: rgb(var(--v2-heading-color));
    text-shadow: none;
  }
}
